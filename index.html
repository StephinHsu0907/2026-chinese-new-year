<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Stephinçµ¦æ‚¨æ‹œå¹´å•¦</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@600;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --cream:#fff7e6;
      --gold:#fcd34d;
      --red:#dc2626;
      --glass-bg: rgba(0, 0, 0, 0.25);
      --glass-border: rgba(255, 255, 255, 0.2);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      height:100vh;
      font-family: 'Noto Serif TC', "PingFang TC", "Microsoft JhengHei", serif; /* æ”¹ç”¨å®‹é«” */
      color: var(--cream);
      overflow:hidden;
      background:
        linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.0)), /* ç¨å¾®å£“æš—ä¸Šæ–¹è®“ç‡ˆç± æ¸…æ¥š */
        url("bg.jpg") center/cover no-repeat fixed;
      position: relative;
    }

    /* æ¥µç°¡é‡‘è‰²é‚Šæ¡† (å–ä»£åŸæœ¬åšé‡çš„ç´…æ¡†) */
    body::after{
      content:"";
      position:fixed;
      inset:10px;
      border:1px solid rgba(251,191,36, 0.4);
      border-radius:12px;
      pointer-events:none;
      z-index:2;
      box-shadow: 0 0 20px rgba(0,0,0,0.2) inset;
    }

    /* ç…™ç«ç•«å¸ƒ */
    canvas#fx{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:1; /* æœ€åº•å±¤ä½†åœ¨èƒŒæ™¯åœ–ä¹‹ä¸Š */
    }

    /* ç‡ˆç±  (ä¿ç•™åŸæœ¬å‹•ç•«ï¼Œèª¿æ•´ä½ç½®) */
    .lantern{
      position:fixed;
      top:-10px;
      width:70px; /*ç¨å¾®ç¸®å°ä¸€é»ï¼Œä¸æ¶æˆ²*/
      filter: drop-shadow(0 10px 15px rgba(0,0,0,.5));
      transform-origin: 50% 0%;
      animation: sway 3.5s ease-in-out infinite;
      z-index:4;
      pointer-events:none;
    }
    .lantern.left{ left:20px; }
    .lantern.right{ right:20px; animation-delay:-1.3s; }
    @keyframes sway{
      0%,100%{ transform: rotate(-4deg); }
      50%{ transform: rotate(4deg); }
    }

    /* ===== ç‰ˆé¢ä½ˆå±€ ===== */
    .container {
      position: relative;
      z-index: 5;
      width: 100%;
      height: 100vh;
      pointer-events: none; /* è®“é»æ“Šç©¿é€åˆ°èƒŒæ™¯æ”¾ç…™ç« */
    }

    /* å·¦ä¸Šè§’ï¼šè±æ’æ¨™é¡Œ (æ¥µçœç©ºé–“) */
    .vertical-title {
      position: absolute;
      top: 50px;
      left: 40px;
      writing-mode: vertical-rl; /* ç›´æ›¸ */
      text-orientation: upright;
      font-weight: 900;
      letter-spacing: 0.1em;
      text-shadow: 0 4px 12px rgba(0,0,0,0.6);
      pointer-events: auto;
    }

    .v-line {
      display: inline-block;
      margin-left: 12px; /* ç›´æ›¸æ™‚æ˜¯å·¦å³é–“è· */
      padding: 12px 6px;
      background: rgba(185, 28, 28, 0.85); /* æ·±ç´…åº• */
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      font-size: clamp(24px, 4vw, 32px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      backdrop-filter: blur(4px);
    }
    
    .v-line.sub {
      background: rgba(255, 247, 230, 0.9); /* ç±³ç™½åº• */
      color: #881313; /* ç´…å­— */
      font-size: clamp(16px, 2.5vw, 20px);
      margin-top: 40px; /* ç›´æ›¸æ™‚é€™æ˜¯å‘ä¸‹ä½ç§» */
      height: fit-content;
    }

    /* å³ä¸‹è§’ï¼šäº’å‹•å¡ç‰‡ (ç¸®å°ã€é€æ˜) */
    .interact-card {
      position: absolute;
      bottom: 40px;
      right: 30px;
      width: min(320px, 85vw);
      background: var(--glass-bg);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      pointer-events: auto;
      text-align: left;
      transition: transform 0.2s;
    }

    .interact-card:hover {
      background: rgba(0, 0, 0, 0.4);
    }

    .msg-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .msg-text {
      font-size: 0.95rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 16px;
      white-space: pre-line;
      font-family: ui-sans-serif, system-ui, sans-serif; /* å…§æ–‡ç”¨é»‘é«”æ¯”è¼ƒå¥½è®€ */
    }

    .btn-group {
      display: flex;
      gap: 10px;
    }

    button {
      cursor: pointer;
      border: none;
      padding: 10px 16px;
      border-radius: 12px;
      font-weight: 700;
      font-family: inherit;
      transition: all 0.2s;
      flex: 1;
    }

    .btn-primary {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #451a03;
      box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
    }
    .btn-primary:hover { filter: brightness(1.1); transform:translateY(-1px); }
    .btn-primary:active { transform:scale(0.98); }

    .btn-ghost {
      background: rgba(255,255,255,0.15);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .btn-ghost:hover { background: rgba(255,255,255,0.25); }

    /* Toast */
    #toast {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 12px 24px;
      border-radius: 50px;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(4px);
      color: #fff;
      z-index: 20;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      font-family: system-ui, sans-serif;
    }

    /* æ‰‹æ©Ÿç‰ˆé©é… */
    @media (max-width: 600px) {
      /* æ‰‹æ©Ÿä¸Šæ¨™é¡Œæ”¹ç‚ºæ©«æ’ï¼Œç½®æ–¼é ‚éƒ¨ */
      .vertical-title {
        top: 20px;
        left: 0; 
        right: 0;
        text-align: center;
        writing-mode: horizontal-tb;
        display: flex;
        flex-direction: column;
        align-items: center;
        pointer-events: none;
      }
      .v-line {
        margin: 4px 0;
        padding: 6px 16px;
        display: inline-block;
        font-size: 20px;
      }
      .v-line.sub {
        margin-top: 0;
        font-size: 14px;
      }

      /* å¡ç‰‡ç½®åº• */
      .interact-card {
        bottom: 30px;
        right: 20px;
        left: 20px;
        width: auto;
      }
    }
  </style>
</head>

<body>
  <svg class="lantern left" viewBox="0 0 120 200"><path d="M60 0 v30" stroke="rgba(255,255,255,.5)" stroke-width="4"/><path d="M25 45 C25 25,95 25,95 45 v80 C95 155,25 155,25 125 Z" fill="#ef4444" stroke="#fcd34d" stroke-width="3"/><path d="M60 155 v30" stroke="rgba(255,255,255,.5)" stroke-width="4"/><circle cx="60" cy="190" r="5" fill="#fbbf24"/></svg>
  <svg class="lantern right" viewBox="0 0 120 200"><path d="M60 0 v30" stroke="rgba(255,255,255,.5)" stroke-width="4"/><path d="M25 45 C25 25,95 25,95 45 v80 C95 155,25 155,25 125 Z" fill="#ef4444" stroke="#fcd34d" stroke-width="3"/><path d="M60 155 v30" stroke="rgba(255,255,255,.5)" stroke-width="4"/><circle cx="60" cy="190" r="5" fill="#fbbf24"/></svg>

  <canvas id="fx"></canvas>
  <div id="toast"></div>

  <div class="container">
    <div class="vertical-title">
      <div class="v-line">Stephin çµ¦æ‚¨æ‹œå¹´å•¦</div>
      <div class="v-line sub">æ­å–œç™¼è²¡ï¼è¬äº‹å¦‚æ„</div>
    </div>

    <div class="interact-card">
      <div class="msg-title">ğŸ§§ æ–°å¹´ç¥ç¦</div>
      <div class="msg-text" id="blessingText">é¡˜æ‚¨æ–°çš„ä¸€å¹´ï¼Œ
æ­¥ä¼å …å®šï¼Œå¿ƒè£¡æœ‰å…‰ã€‚
åƒé¦¬å…’ä¸€æ¨£ï¼Œ
å¥”å‘ç›®æ¨™ï¼Œé¦¬åˆ°æˆåŠŸï¼

Stephin æ•¬ä¸Š</div>
      
      <div class="btn-group">
        <button class="btn-primary" id="btnFire">âœ¨ æ”¾ç…™ç«</button>
        <button class="btn-ghost" id="btnCopy">è¤‡è£½ç¥ç¦</button>
      </div>
    </div>
  </div>

  <script>
    // ===== Toast æç¤º =====
    const toastEl = document.getElementById("toast");
    let toastTimer;
    function showToast(msg){
      toastEl.textContent = msg;
      toastEl.style.opacity = "1";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toastEl.style.opacity = "0", 1500);
    }

    // ===== è¤‡è£½åŠŸèƒ½ =====
    document.getElementById("btnCopy").addEventListener("click", async () => {
      const text = document.getElementById("blessingText").textContent;
      try {
        await navigator.clipboard.writeText(text);
        showToast("å·²è¤‡è£½ç¥ç¦èª âœ…");
      } catch(e) {
        showToast("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½");
      }
    });

    // ===== ç…™ç«é‚è¼¯ (å„ªåŒ–ç‰ˆ) =====
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d');
    let W, H, dpr;
    let particles = [];

    function resize(){
      dpr = window.devicePixelRatio || 1;
      W = canvas.width = innerWidth * dpr;
      H = canvas.height = innerHeight * dpr;
      canvas.style.width = innerWidth + 'px';
      canvas.style.height = innerHeight + 'px';
      ctx.scale(dpr, dpr);
    }
    window.addEventListener('resize', resize);
    resize();

    function createFirework(x, y) {
      const count = 60;
      for (let i = 0; i < count; i++) {
        const angle = Math.random() * Math.PI * 2;
        const speed = Math.random() * 4 + 2;
        particles.push({
          x: x, y: y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          alpha: 1,
          color: `hsl(${Math.random()*360}, 100%, 60%)`,
          decay: Math.random() * 0.015 + 0.01
        });
      }
    }

    function loop() {
      // æ‹–å°¾æ•ˆæœ
      ctx.globalCompositeOperation = 'destination-out';
      ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
      ctx.fillRect(0, 0, W/dpr, H/dpr);
      ctx.globalCompositeOperation = 'lighter';

      for (let i = particles.length - 1; i >= 0; i--) {
        let p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.05; // é‡åŠ›
        p.alpha -= p.decay;

        ctx.fillStyle = p.color;
        ctx.globalAlpha = p.alpha;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fill();

        if (p.alpha <= 0) particles.splice(i, 1);
      }
      requestAnimationFrame(loop);
    }
    loop();

    // é»æ“Šäº’å‹•
    document.getElementById('btnFire').addEventListener('click', (e) => {
      // åœ¨ç•«é¢ä¸Šæ–¹éš¨æ©Ÿä½ç½®æ”¾ç…™ç«
      createFirework(innerWidth * 0.5, innerHeight * 0.3);
      createFirework(innerWidth * 0.3, innerHeight * 0.4);
      createFirework(innerWidth * 0.7, innerHeight * 0.4);
      showToast("æ–°å¹´å¿«æ¨‚ï¼ğŸ†");
      e.stopPropagation(); // é˜²æ­¢è§¸ç™¼èƒŒæ™¯é»æ“Š
    });

    document.addEventListener('click', (e) => {
      if(e.target.tagName !== 'BUTTON'){
        createFirework(e.clientX, e.clientY);
      }
    });

    // è‡ªå‹•æ”¾ä¸€å€‹é–‹å ´ç…™ç«
    setTimeout(() => createFirework(innerWidth * 0.5, innerHeight * 0.4), 500);
  </script>
</body>
</html>
